<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Hello, World! • A-Frame</title>
    <meta name="description" content="Hello, World! • A-Frame">
    <script src="https://aframe.io/releases/latest/aframe.min.js"></script>
    <script src="tinytim.min.js"></script>
</head>
<body>
<a-scene id="scene">
    <a-camera default id="bmo"></a-camera>
    <a-sky src="sky2.jpg"></a-sky>
</a-scene>
<script language="JavaScript">
    var scene = document.getElementsByTagName("a-scene")[0];
    var placeholder_url = "http://lorempixel.com/256/256/cats/";
    var cube_template = '<a-cube look-at="#bmo" position="{{x}} {{y}} {{z}}" height="{{scale}}" width="{{scale}}" src="{{url}}?x={{x}}&y={{y}}&z={{z}}"></a-cube>';
    var scale = 1.5;
    for (var x=-3; x<3; x=x+2){
        for (var y=-3; y<3; y = 2+y){
            for (var z=-3; z<3; z = 2+z){
                var tmpl_dict = {
                    x:x*scale,
                    y:y*scale,
                    z:z*scale,
                    url:placeholder_url,
                    scale:scale
                };
                var cube_code = tim(cube_template, tmpl_dict);
                var cube_elem = document.createElement('a-entity');
                cube_elem.innerHTML = cube_code;
                scene.appendChild(cube_elem);
            }
        }
    }

</script>
</body>
</html>
